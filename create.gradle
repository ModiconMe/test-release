release {
    failOnCommitNeeded = true
    failOnPublishNeeded = true
    failOnSnapshotDependencies = true
    failOnUnversionedFiles = false
    failOnUpdateNeeded = true
    preTagCommitMessage = "[Gradle Release Plugin] - pre tag commit: $version"
    tagCommitMessage = "[Gradle Release Plugin] - creating tag: $version"
    newVersionCommitMessage = "[Gradle Release Plugin] - new version commit: $version"
    tagTemplate = '${version}'
    versionProperties.add('version1')
    versionPropertyFile = 'gradle.properties'
    snapshotSuffix = '-SNAPSHOT'
    buildTasks = []

    pushReleaseVersionBranch = "release/$version"
//    pushReleaseVersionBranch = "main"

    git {
        requireBranch.set("develop")
    }
}

checkoutMergeToReleaseBranch {
  doFirst {
      project.exec {
          commandLine 'git', 'branch', "release/$version"
      }
  }
}