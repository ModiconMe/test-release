plugins {
    id 'java'
    id 'net.researchgate.release' version '3.0.2'
}

group = 'pro.smartix.sale.external'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'
}

test {
    useJUnitPlatform()
}

release {
    failOnCommitNeeded = true
    failOnPublishNeeded = true
    failOnSnapshotDependencies = true
    failOnUnversionedFiles = false
    failOnUpdateNeeded = true
    preTagCommitMessage = "[Gradle Release Plugin] - pre tag commit: $version"
    tagCommitMessage = "[Gradle Release Plugin] - creating tag: $version"
    newVersionCommitMessage = "[Gradle Release Plugin] - new version commit: $version"
    tagTemplate = '${version}'
    versionPropertyFile = 'gradle.properties'
    snapshotSuffix = '-SNAPSHOT'
    buildTasks = []

    pushReleaseVersionBranch = "release/$version"
    pushReleaseVersionBranch = "main"

    git {
        requireBranch.set("develop")
    }
}